<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
  <title>User Account Page</title>
  <link th:href="@{/styles.css}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
</head>
<body>

<div class="profile-container">
  <div id="profile">
    <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png" alt="Profile Picture">
    <h3 th:if="${user != null}" th:text="${user.getname()} + '\'s ' + 'Account' "></h3>
  </div>
  <div>
    <form th:action="@{/account/update/{userid}(userid=${user.getUserid()})}" method="post" th:object="${user}">

      <div th:if="${usernameExists}">
        <h4 style="color: red;">Username already exists. Please choose a different username</h4>
      </div>

    <h4>Name</h4>
      <div class="mb-3">
      <label for="updatename" class="form-label">Update name</label>
      <input type="text" class="form-control" id="updatename" th:placeholder="${user.getname()}" th:field="*{name}">
      </div>

    <h4>Username</h4>
      <div class="mb-3">
      <label for="updateusername" class="form-label">Update username</label>
      <input type="text" class="form-control" id="updateusername" th:placeholder="${user.getUserName()}" th:field="*{userName}">
      </div>

    <h4>Password</h4>
      <div class="mb-3">
      <label for="updatepassword" class="form-label">Update password</label>
      <input type="text" class="form-control" id="updatepassword" th:placeholder="${user.getPassword()}" th:field="*{password}">
      </div>

      <br>
      <button type="submit" class="btn btn-primary"> Update</button>
    </form>
  </div>
  <br>
  <br>
  <div>
    <h4>Delete Account</h4>
    <a th:href="@{/account/delete/{userid}(userid=${user.userid})}" onclick="return confirm('Are you sure?')">Delete</a>
  </div>
</div>

<div>
  <a th:href="@{/userProjects/{userid}(userid=${user.userid})}">Return to home</a>
</div>


</body>
</html>