<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
  <title>User Account Page</title>
  <link th:href="@{/styles.css}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
</head>
<body>
<h1 th:if="${user != null}" th:text="${user.getname()} + '\'s ' + 'Account' "></h1>

<div id="profile">
  <img src="" alt="Profile Picture">
  <h2 th:if="${user != null}" th:text="'Name: ' + ${user.getUserName()}"> </h2>
</div>

<div>
  <a th:href="@{/userProjects/{userid}(userid=${user.userid})}">Return to home</a>
</div>

<table>
  <thead>
  <tr>
    <th>Name</th>
    <th>Username</th>
    <th>Password</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><span th:text="${user.getname()}"></span></td>
    <td><span th:text="${user.getUserName()}"></span></td>
    <td>
      <span class="password-mask">********</span>
      <span class="edit-password-icon" onclick="showPasswordEditPopup()">&#9998;</span>
    </td>
    <td>
      <button class="edit-button" onclick="editUser()">Edit</button>
      <button class="cancel-button" onclick="cancelEdit()">Cancel</button>
      <button class="save-button" onclick="saveUser()">Save</button>
    </td>
  </tr>
  </tbody>
</table>

<form id="delete-form" action="/register/delete/{userid}" method="post" th:object="${user}">
  <h2>Delete Account</h2>
  <a th:href="@{delete/{userid} (userid=${user.userid})}" onclick="return confirm('Are you sure?')">Delete</a>
</form>

</body>
</html>